<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Benchmark: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Benchmark
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Benchmark Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Introduction</h2>
<p>Ce projet contient des benchmarks des appels systèmes Unix qui sont intéressants d'un point de vue didactique. Ils sont utilisés par le cours <a href="http://sinf1252.info.ucl.ac.be/">SINF1252</a> donné à l'UCL par le professeur Olivier Bonaventure.</p>
<p>Ils ont été écrits par Maxime De Mol, Nicolas Houtain et Benoît Legat avec l'aide d'Oliver Bonaventure.</p>
<p>Ils utilisent l'outil <a href="https://perf.wiki.kernel.org/index.php/Main_Page">perf</a> pour analyser différents conteurs ainsi que <a href="http://www.gnuplot.info/">gnuplot</a> pour afficher les benchmarks.</p>
<p>Le projet est constitué</p>
<ul>
<li>d'un dossier <code>lib</code> contenant des petites librairies statiques développées pour le projet ainsi que divers scripts;</li>
<li>ainsi qu'un dossier par benchmark. Le résultat du benchmark est affiché dans une page <code>html</code> qu'on peut obtenir en lançant <code>make show</code> dans le dossier correspondant.</li>
</ul>
<h2>Documentation</h2>
<p>La documentation se trouve <a href="http://blegat.github.io/benchmark/index.html">ici</a> mais elle peut être générée à l'aide de <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> ainsi </p>
<pre class="fragment">$ doxygen Doxyfile
</pre><p> Il suffit alors d'ouvrir <code>doc/html/index.html</code> pour voir la documentation.</p>
<h2>Compilation</h2>
<p>Commencez par vous assurez que vous avez les dépendances nécessaires </p>
<pre class="fragment">$ sudo apt-get install build-essential dh-autoreconf gnuplot libgd2-xpm-dev libtool autoconf
$ sudo apt-get install linux-tools-common linux-tools-generic # perf
</pre><p>Il est nécessaire d'avoir un gnuplot récent (4.2 est trop vieux, 4.6 marche bien). Si vous êtes sur une des machines des salles, il vous faudra donc l'installer from source (voir plus loin).</p>
<p>Pour générer les <code>Makefile</code> nécessaires à la compilation à partir des <code>Makefile.am</code>, exécutez </p>
<pre class="fragment">$ git clone https://github.com/blegat/benchmark.git
$ cd benchmark
$ ./bootstrap.sh
</pre><p>Ça va non seulement générer un <code>Makefile</code> à la racine qui compile les librairies et tous les benchmarks mais aussi un <code>Makefile</code> dans le dossier <code>lib</code> qui compile les librairies et un dossier dans chaque dossier de benchmark qui peut compiler le benchmark mais aussi l'exécuter et générer et afficher une page <code>html</code> à l'aide <code>make show</code>.</p>
<p>Par exemple, pour essayer le benchmark <code>io</code>, faite suivre ce <code>./bootstrap.sh</code> par </p>
<pre class="fragment">$ cd io
$ make show
</pre><h3>Utiliser gnuplot from source</h3>
<p>Assurez-vous d'installer <code>libgd2-xpm-dev</code> pour avoir le support de png dans gnuplot </p>
<pre class="fragment">$ sudo apt-get install libgd2-xpm-dev
</pre><p>puis téléchargez et installer le (<code>./configure</code> devrait trouver <code>libgd</code> et activer le support de png pour gnuplot) </p>
<pre class="fragment">$ wget http://sourceforge.net/projects/gnuplot/files/gnuplot/4.6.5/gnuplot-4.6.5.tar.gz
$ tar xzvf gnuplot-4.6.5.tar.gz
$ cd gnuplot-4.6.5
$ ./configure
$ make
</pre><p>Si vous n'avez les droits root sur la machine (c'est le cas si vous êtes sur une machine des salles), vous ne pourrez pas l'installer, et il faudra spécifier au benchmark d'utiliser votre gnuplot compilé dans <code>~/src/gnuplot-4.6.5/src</code>. Pour cela, faites </p>
<pre class="fragment">$ PATH=&lt;/path/to/gnuplot-4.6.5&gt;/src:${PATH} ./bootstrap.sh
</pre><p>à la place de <code>./bootstrap.sh</code> dans le dossier benchmark (le chemin vers gnuplot doit être un chemin absolu (qui commence par <code>/</code>)).</p>
<p>Si vous avez les droits root, faites simplement </p>
<pre class="fragment">$ sudo make install
</pre><p>dans le dossier gnuplot.</p>
<h3>Troobleshooting</h3>
<p>Si vous avez l'erreur "required file `./ltmain.sh`" en faisant <code>./configure</code> ou <code>./bootstrap.sh</code>, assurez vous que votre dossier <code>gnuplot-4.6.5</code> n'est pas dans <code>benchmark</code> et vice versa. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 15 2014 11:04:27 for Benchmark by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
